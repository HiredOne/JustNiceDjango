<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <!-- Initialise some elements to play with -->
    <h1 id= "test"> Hello World!</h1>
    <h2 id= "alertTest"> I am an alert!</h2>
    <h3 id= "errorT"> Error, this is an error!</h3>
    <h4 id= "warnT"> Warning, this is a warning!</h4>
    <h5 id= "docTest"> Doc Write</h5>
    
    <h1 class= 'dump'> class 1 </h1>
    <h2 class= 'dump'> class 2 </h2>
    <h3 class= 'dump'> class 3 </h3>
    <h4 class= 'dump'> class 4 </h4>
    <h5 class= 'dump'> class 5 </h5>
    <button onclick="printer('button works')"> Printer button</button>
    <button id= 'btn' onclick="handler()"> Handler button (Changes stuff)</button>
    
    <!-- <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/ccxt@1.51.82/dist/ccxt.browser.js"></script> -->
    <script type="text/javascript" src="https://unpkg.com/ccxt"></script>
    <script>
        console.log("Hello World (console ver)");
        console.log(test);
        alert("I am an alert!");
        alert(alertTest);
        console.error("Error, this is an error!");
        console.error(errorT);
        console.warn("Warning, this is a warning!");
        console.warn(warnT);
        console.assert(2==3);
        console.assert(2==2);
        document.write("Doc Write");
        document.write(docTest);
        document.write("<h5> Doc Write</h5>");
        console.clear();
        var a = 'a';
        var b = 5;
        var c = 6;
        const d = 7;
        console.log(a, b, c, a + b, b + c);
        c = 7;
        // d = 8; // Throws an error
        console.log(a, b, c, d);
        if (true){
            // let x = 5;
            var y = 5;
            var myArr = [1, 2, 3];
            var myArr2 = new Array();
        }
        // console.log(x);
        console.log(y, myArr, myArr2);
        myArr2.push('a', 'b', 'c');
        console.log(myArr.length, myArr[1], myArr[1] + myArr2[0]);
        myArr[3] = 4;
        console.log(myArr);
        myArr2[10] = "class";
        console.log(myArr2);
        console.log(myArr.push(5), myArr, myArr.shift(), myArr.pop());
        console.log(myArr.slice(-1));
        console.log(myArr.slice(1));
        function printer(str) {
            console.log(str);
        }
        function add(num1, num2){
            return num1 + num2;
        }
        printer('Hello World');
        console.log(add(2, 3));
        var test2 = document.getElementById("test");
        console.log(test2);
        console.log(document.getElementsByClassName("dump"));
        function handler() {
            alert("All the class stuff will be replaced with magic text");
            document.getElementsByClassName("dump").item(0).innerHTML = "BT3103";
            console.log("Changed class 1");
            document.getElementsByClassName("dump").item(1).innerHTML = "Is";
            console.log("Changed class 2");
            document.getElementsByClassName("dump").item(2).innerHTML = "A";
            console.log("Changed class 3");
            document.getElementsByClassName("dump").item(3).innerHTML = "Cool";
            console.log("Changed class 4");
            document.getElementsByClassName("dump").item(4).innerHTML = "Mod";
            console.log("Changed class 5");
            console.log("Handler works");
        }
        if (5 == 5) {
            console.log("If statement worked");
        }
        if (5 == 7) {
            console.log("If statement worked");
        } else {
            console.log("Else worked too");
        }

        // Now we play with promises and ccxt
        function getData(){
            console.log("In getData func");
            console.log("Calling ccxt");
            let binance = new ccxt.binance;
            let z = binance.fetch_ohlcv("BTC/USDT", "5m");
            console.log("Fetched Bitcoin Price: ", z);
            console.log("The promise resolved", z)
            return z
        }
        console.log("First line");
        let e = getData();
        console.log("Second line");
        console.log("The e is: ", e)
        console.log("Going to resolve the promise");

        // Let's try the then method
        function getDataThen() {
            console.log("In getDataThen func");
            console.log("Calling ccxt");
            let binance = new ccxt.binance;
            let z = binance.fetch_ohlcv("BTC/USDT", "5m");
            z.then((x) => {
                let y = x[499][4];
                console.log("Fetched Bitcoin Prices (arr)", z);
                console.log("(Then) Fetched Bitcoin Price: ", y);
            })
        }
        console.log("Third line");
        let f = getDataThen();
        console.log("Fourth line");
        console.log("The f is: ", f)

        // Trying Async and await...
        async function hw(){
            return "Hello World"
        }
        console.log(hw());

        async function getDataAsync() {
            console.log("In getDataAsync func");
            console.log("Calling ccxt");
            let binance = new ccxt.binance;
            let z = await binance.fetch_ohlcv("BTC/USDT", "5m");
            console.log("(Async) Fetched Bitcoin Price: ", z[499][4]);
            console.log("Promise resolved");
            return z
        }

        console.log("Fifth line");
        let g = getDataAsync();
        console.log("Sixth line");
        console.log("The g is: ", g)

        // async function getDataAsyncNoAwait() {
        //     console.log("In getDataAsyncNoAwait func");
        //     console.log("Calling ccxt");
        //     let binance = new ccxt.binance;
        //     let z = binance.fetch_ohlcv("BTC/USDT", "5m");
        //     console.log("(No Await) Fetched Bitcoin Price: ", z[499][4]);
        //     console.log("Promise resolved");
        //     return z
        // }

        // console.log("Seventh line");
        // let d = getDataAsyncNoAwait();
        // console.log("Eighth line");
        // console.log("The d is: ", d)
    </script>
</body>
</html>